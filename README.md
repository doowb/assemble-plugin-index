# assemble-plugin-index [![NPM version](https://badge.fury.io/js/assemble-plugin-index.svg)](http://badge.fury.io/js/assemble-plugin-index)

> Collection indexing plugin for Assemble.io.

## Getting Started
In the command line, run:

```bash
npm install --save-dev assemble-plugin-index
```

Next, to register the plugin with Assemble in your project's `Gruntfile.js`, you can either specify the direct path to the plugin(s) (e.g. `./path/to/plugins/*.js`), or if installed via NPM, make sure the plugin is in the `devDependencies` of your `package.json`, and simply add the module's name to the `plugins` option:

```js
module.exports = function(grunt) {

  // Project configuration.
  grunt.initConfig({
    assemble: {
      options: {
        plugins: ['assemble-plugin-index', 'other/plugins/*.js'],
        collections: [{
          name: 'pages',
          index: {
              template: 'index.hbs',
              limit: 5,
              dest: 'dist/',
              prefix: 'index'
          }
        }]
      },
      files: {
        'dist/': ['templates/*.hbs']
      }
    }
  });
  grunt.loadNpmTasks('assemble');
  grunt.registerTask('default', ['assemble']);
};
```
If everything was installed and configured correctly, after running `grunt assemble` you should see a JSON file for each page in the `dest` directory defined in the plugin's options. The basename of each page will be used as the name of each file. Additionally, the plugin creates one or more index pages in the specified directory.

Visit the [plugin docs](http://assemble.io/plugins/) for more info or for help getting started.


## Options
The plugin will create index pages for each defined collection that contains an `index` options object as shown above.

### limit
Type: `Number`
Default: `10`

Maximum collection items per index page.

### template
Type: `String`  
Default: `undefined`

Path to index page template.

### dest
Type: `String`  
Default: `undefined`

Destination path to where the index pages are written.

### prefix
Type: `String`  
Default: `index`

File name prefix of index pages.


## Examples
When used with the configuration shown above, an index template might look as follows:

```html
<h1>Index</h1>
{{#if index.pageIsEmpty}}
  <p>Oops, nothing there yet!</p>
{{else}}
  <ul>
    {{#each items}}
        <li><a href="{{relative ../../page.dest this.dest}}">
          {{ data.title }}
        </a></li>
    {{/each}}
  </ul>
  <ul>
    {{#if index.pageIsFirst}}
      <li><a href="#">Prev</a></li>
    {{else}}
      <li><a href="{{relative ../page.dest index.pagePrev.page.dest}}">Prev</a></li>
    {{/if}}
    {{#each index.pages}}
      <li><a href="{{relative ../page.dest this.page.dest}}">{{indexPage}}</a></li>
    {{/each}}
    {{#if index.pageIsLast}}
      <li><a href="#">Next</a></li>
    {{else}}
      <li><a href="{{relative ../page.dest index.pageNext.page.dest}}">Next</a></li>
    {{/if}}
  </ul>
{{/if}}
```


## Context
The templating context contains the following variables which can be used for the generation of the index page.

### items
Type: `Array`

An array containing all items available for this particular index page.

### index
Type: `Object`

An object describing the state of the index page as the following code excerpt shows:

```js
{
  pageIsEmpty: false,
  pageIsFirst: true,
  pageIsLast: false,
  pageFirst: { /*...*/ },
  pagePrev: { /*...*/ },
  pageNext: { /*...*/ },
  pageLast: { /*...*/ },
  pages: { /*...*/ }
}
```

#### pageIsEmpty
Type: `Boolean`

Whether the current index page has no items.

#### pageIsFirst
Type: `Boolean`

Whether the current index page is the first index page of a collection of index pages.

#### pageIsLast
Type: `Boolean`

Whether the current index page is the last index page of a collection of index pages.

#### pageFirst
Type: `Object`

Object of the first index page in a collection of index pages.

#### pagePrev
Type: `Object`

Object of the previous index page in a collection of index pages.

#### pageNext
Type: `Object`

Object of the next index page in a collection of index pages.

#### pageLast
Type: `Object`

Object of the last index page in a collection of index pages.

#### pages
Type: `Array`

An array of objects of all index pages.


## Authors
* Vincent Wochnik ([GitHub](https://github.com/vwochnik))


## License
Copyright (c) 2015 Vincent Wochnik, contributors.  
Released under the MIT license

***

_This file was generated by [grunt-verb](https://github.com/assemble/grunt-verb) on March 29, 2015._