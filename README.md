# assemble-plugin-index [![NPM version](https://badge.fury.io/js/assemble-plugin-index.svg)](http://badge.fury.io/js/assemble-plugin-index)

> Template indexing plugin for Assemble.io.

## Getting Started
In the command line, run:

```bash
npm install --save-dev assemble-plugin-index
```

Next, in your `assemblefile.js`, insert the following line immediately after you have `require()`d `assemble`:

```js
var index = require('assemble-plugin-index')(assemble);
```

Upon initialization, the module creates a new renderable `index` collection within `assemble`. Before using the plugin, you have to specify a location where `index` collections can be found:

```js
assemble.indices('templates/indices/*.hbs');
```

You can now use the plugin within a task like so:

```js
assemble.task('posts', function() {
  assemble.src('templates/posts/*.hbs')
    .pipe(index('posts', {limit: 10}))
    .pipe(assemble.dest('dist/'));
});
```

You can also specify options for the module to be used with successive calls:

```js
assemble.option('index', {limit: 10});
```

Visit the [plugin docs](http://assemble.io/plugins/) for more info or for help getting started.


## Options
### limit
Type: `Number`
Default: `10`

Maximum collection items per index page.

### pattern
Type: `String`
Default: Template name with attached page number

File naming pattern with attached page number and without file extension.
By default, files are named by the index template's name plus an additional page number for successive pages.

The string `:num:` is replaced with the page number or removed for
the first page.


## Examples
When used with the configuration shown above, an index template might look as follows:

```html
<h1>Index</h1>
{{#if index.pageIsEmpty}}
  <p>Oops, nothing there yet!</p>
{{else}}
  <ul>
    {{#each items}}
        <li><a href="{{relative ../../page.dest this.dest}}">
          {{ data.title }}
        </a></li>
    {{/each}}
  </ul>
  <ul>
    {{#if index.pageIsFirst}}
      <li><a href="#">Prev</a></li>
    {{else}}
      <li><a href="{{relative ../page.dest index.pagePrev.page.dest}}">Prev</a></li>
    {{/if}}
    {{#each index.pages}}
      <li><a href="{{relative ../page.dest this.page.dest}}">{{indexPage}}</a></li>
    {{/each}}
    {{#if index.pageIsLast}}
      <li><a href="#">Next</a></li>
    {{else}}
      <li><a href="{{relative ../page.dest index.pageNext.page.dest}}">Next</a></li>
    {{/if}}
  </ul>
{{/if}}
```


## Context
The templating context contains the following variables which can be used for the generation of the index page.

### items
Type: `Array`

An array containing all items available for this particular index page. The contents of each element are extracted from the page's `data` object.

### pagination
Type: `Object`

An object describing the state of the index pagination as the following code excerpt shows:

```js
{
  first: { /*...*/ },
  prev: { /*...*/ },
  next: { /*...*/ },
  last: { /*...*/ },
  pages: { /*...*/ },
  isFirst: true,
  isLast: false
}
```

#### first
Type: `String`

Relative path of the first index page in a collection of index pages.

#### prev
Type: `String`

Relative path of the previous index page in a collection of index pages.

#### next
Type: `String`

Relative path of the next index page in a collection of index pages.

#### last
Type: `String`

Relative path of the last index page in a collection of index pages.

#### pages
Type: `Array`

An array of strings of relative paths of all index pages.

#### isFirst
Type: `Boolean`

Whether the current index page is the first index page of a collection of index pages.

#### isLast
Type: `Boolean`

Whether the current index page is the last index page of a collection of index pages.


## Authors
* Vincent Wochnik ([GitHub](https://github.com/vwochnik))


## License
Copyright (c) 2015 Vincent Wochnik, contributors.  
Released under the MIT license

***

_This file was generated by [grunt-verb](https://github.com/assemble/grunt-verb) on April 01, 2015._